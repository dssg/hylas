<html>
    <head>
        <!-- Angular Material Dependencies -->
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.7/angular.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.7/angular-animate.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.7/angular-aria.min.js"></script>
        <script src="//angular-ui.github.io/bootstrap/ui-bootstrap-tpls-0.14.3.js"></script>
        <script src="js/univis.js"></script>

        <link href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet" />
        <link href="css/univis.css" rel="stylesheet" />
    </head>
    <body>

        <div ng-app="univisApp" ng-controller="univisCtrl">
            <uib-accordion> 
                <uib-accordion-group heading="Models" 
                    is-open="models_open"> 
                    <table>
                        <tr>
                            <th></th>
                            <th>Classifier Name</th>
                            <th>Time</th>
                        </tr>
                        <tr ng-repeat="model in model_list">
                            <td> 
                                <button type="button" ng-click="pickModel($index)">
                                    Examine
                                </button>
                            </td>
                            <td> {{ model.name }} </td>
                            <td> {{ model.time }} </td>
                        </tr>
                    </table>
                </uib-accordion-group>
            <uib-accordion-group heading="Model performance" 
                is-open="model_performance_open">
                <div>
                    model perf goes here
                </div>
                <table>
                    <tr>
                        <th></th>
                        <th>Score</th>
                        <th>Unit ID</th>
                    </tr>
                    <tr ng-repeat="unit in top_units">
                        <td> 
                            <button type="button" ng-click="pickUnit($index, 'top')">
                                Examine
                            </button>
                        </td>
                        <td> {{ unit.score }} </td>
                        <td> {{ unit.unit_id }} </td>
                    </tr>
                </table>
            </uib-accordion-group>
            <uib-accordion-group heading="Unit performance" 
                is-open="unit_performance_open">
                <uib-tabset>
                    <uib-tab heading="Distributions">
                        {{ unit }}<br>
                        distribution info goes here
                    </uib-tab>
                    <uib-tab heading="Similar">
                        <div class="btn-group" uib-dropdown>
                            <button type="button" class="btn btn-primary" 
                                uib-dropdown-toggle> 
                                {{similar_feature}} <span class="caret"></span>
                            </button>
                            <ul class="uib-dropdown-menu" role="menu" 
                                aria-labelledby="single-button">
                                <li role="menuitem"
                                    ng-repeat="feature in top_n_feature_names">
                                    <a 
                                        ng-click="pickSimilarFeature(feature)">
                                        {{feature}}
                                    </a>
                                </li>
                            </ul>
                        </div>
                        <table>
                            <tr>
                                <th></th>
                                <th>{{similar_feature}}</th>
                                <th>Unit ID</th>
                            </tr>
                            <tr ng-repeat="unit in similar_units">
                                <td> 
                                    <button type="button" ng-click="pickUnit($index, 'similar')">
                                        Examine
                                    </button>
                                </td>
                                <td> {{ unit[similar_feature] }} </td>
                                <td> {{ unit.unit_id }} </td>
                            </tr>
                        </table>
                    </uib-tab>
                </uib-tabset>
            </uib-accordion-group>
            </uib-accordion>
        </div>
    </body>
</html>

